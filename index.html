<!DOCTYPE html>
<html lang="ZH-CN">
<head>
  <meta charset="utf-8">
  <title>H5调用摄像头</title>
  <style>
  </style>
  <script type="text/javascript" src="js/jquery.min.js"></script>
</head>
<body>
  <video id="video" autoplay=""></video>
  <script>
  var video_element=document.getElementById('video');
  var errocb = function () {  
    alert("调用失败");
  }  
  if (navigator.getUserMedia) { // 标准的API  
      navigator.getUserMedia({ "video": true }, function (stream) {  
          video_element.src = stream;  
          video_element.play();  

      }, errocb);  
  } else if (navigator.webkitGetUserMedia) { // WebKit 核心的API  
      navigator.webkitGetUserMedia({ "video": true }, function (stream) {  
          video_element.src = window.webkitURL.createObjectURL(stream);  
          video_element.play();  
      }, errocb);  
  }  
  var canvas=document.createElement('canvas'); //动态创建画布对象
  var ctx=canvas.getContext('2d');
  ctx.drawImage(video_element, 0, 0, 640, 480);  
  document.body.append(canvas);
  // var cw=vw,ch=vh;
  // ctx.fillStyle="#ffffff";
  // ctx.fillRect(0,0,cw,ch);
  // ctx.drawImage(video_element,0,0,cw,ch,0,0,vw,vh); //将video对象内指定的区域捕捉绘制到画布上指定的区域，可进行不等大不等位的绘制。
  // document.body.append(canvas);
  </script>
</body>
</html>
