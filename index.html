<!DOCTYPE html>
<html lang="ZH-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=yes">
  <title>H5调用摄像头</title>
  <style>
  </style>
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/exif.js"></script>
  <script type="text/javascript" src="js/LocalResizeIMG.js"></script>
  
  <!--   mobileBUGFix.js 兼容修复移动设备       -->
  <script src="<%=basePath %>en/test/user/my_exam/js/mobileBUGFix.mini.js" type="text/javascript"></script>
</head>
<body>
  <h1 class="text-center">上传图片</h1>
  <input type="file" multiple="multiple" accept="image/*" capture="camera" >
  <div>\(^o^)/~</div>
  <hr/>
    <input type="file"  accept="image/*"  id="uploadImage" onchange="selectFileImage(this);"/>
    <div id="result" align="center"> <img alt="" src="" id="myImage"/>  </div>
  <hr/>
  
  
  <script>
  $("input:file").localResizeIMG({
      width: 500,
      quality: 1,
      success: function (result) {
        var img = new Image();
        img.src = result.base64;
        img.id="photo";
        //console.log(result.clearBase64);
        //$("body").append(img);
        
        $("#result").empty();
        $("#result").append(img); //呈现图像(拍照結果)
        
        // $.ajax({
        //           async:false,//是否异步  
        //           cache:false,//是否使用缓存
        //           dataType: "json",
        //   url: "<%=basePath %>MyExam!uploadImg.action",
        //   type: "POST",
        //   data:{formFile:result.clearBase64,uceId:"<%=uceId %>",queId:"<%=queId %>"},
        //   contentType : 'application/x-www-form-urlencoded; charset=utf-8', 
        //   timeout: 1000,
        //   error: function(){
        //     alert("Error loading document");
        //   },
        //    success: function(result){
        //     //alert(result);
        //     //console.log(result);
        //     alert("Uploads success~");
        //   }
        // }); 
      }
    });
  </script>
</body>
</html>
